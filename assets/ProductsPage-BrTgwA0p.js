import{j as s,L as N,l as P,u as x,a as u,b as y,c as L,r as k,d as F,e as E,U as m}from"./index-B-HWUcWs.js";import{D as C,L as $,E as w}from"./LikePost-CX4TBew-.js";const A="_posts_19gbn_1",D="_title_19gbn_11",G="_list_19gbn_21",a={posts:A,title:D,list:G},Q="_card_11tbm_1",R="_cardLink_11tbm_17",S="_actions_11tbm_29",U="_title_11tbm_37",q="_body_11tbm_55",r={card:Q,cardLink:R,actions:S,title:U,body:q};function g({post:t}){return s.jsx(N,{to:P.product(t.id),className:r.cardLink,children:s.jsxs("div",{className:r.card,children:[s.jsx("div",{className:r.title,children:t.title}),s.jsx("div",{className:r.body,children:t.body}),s.jsxs("div",{className:r.actions,children:[s.jsx(C,{id:t.id}),s.jsx($,{id:t.id})]})]})})}function B(){const{setPosts:t}=x(),{filter:i,hidden:n,likes:c,page:o}=u(e=>e.product),j=u(e=>e.product.createPost).filter(e=>c.includes(e.id)||i=="all"),{data:l,isLoading:f,isError:h,error:b,isFetching:v}=i=="all"?y({hidden:n,page:o}):L({page:o,likes:c.length?c:[-1]});return k.useEffect(()=>{t(l)},[l]),f||v?s.jsx(F,{}):h?s.jsx(w,{error:b}):!(l!=null&&l.length)||!l?s.jsx(M,{}):s.jsxs("div",{className:a.posts,children:[s.jsx("div",{className:a.title,children:"List Post"}),s.jsx("div",{className:a.list,children:l.map(e=>s.jsx(g,{post:e},e.id))}),j.length>=1&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:a.title,children:"My Post"}),s.jsx("div",{className:a.list,children:j.map(e=>s.jsx(g,{post:e},e.id))})]})]})}function M(){return s.jsx("div",{className:a.posts,children:s.jsx("div",{className:a.title,children:"Not found posts"})})}const T="_products_1g507_1",z={products:T},H="_filters_1vg4a_1",I="_text_1vg4a_13",J="_filter_1vg4a_1",K="_select_1vg4a_37",_={filters:H,text:I,filter:J,select:K};function O(){return s.jsxs("div",{className:_.filters,children:[s.jsx("div",{className:_.text,children:"Filter by:"}),s.jsx(p,{label:"All",value:"all"}),s.jsx(p,{label:"Like",value:"like"})]})}function p({label:t,value:i}){const{setFilter:n}=x(),c=u(o=>o.product.filter)==i;return s.jsx("div",{className:E(c&&_.select,_.filter),onClick:()=>n(i),children:t})}const V="_pagination_djgwl_1",W="_page_djgwl_15",X="_button_djgwl_21",d={pagination:V,page:W,button:X};function Y(){const{setPage:t}=x(),{page:i,posts:n}=u(o=>o.product),c=(n==null?void 0:n.length)<10||n==null;return s.jsxs("div",{className:d.pagination,children:[s.jsx(m,{disabled:i<=1,onClick:()=>t(i-1),color:"primary",className:d.button,children:"-"}),s.jsx("div",{className:d.page,children:i??1}),s.jsx(m,{disabled:c,onClick:()=>t(i+1),color:"primary",className:d.button,children:"+"})]})}function ts(){return s.jsxs("div",{className:z.products,children:[s.jsx(O,{}),s.jsx(B,{}),s.jsx(Y,{})]})}export{ts as default};
